<!DOCTYPE html>
<html>
<title>Log Analyzer ğŸ‘¾</title>

<head>
  <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
  <link rel="apple-touch-icon" sizes="120x120" href="{{ url_for('static', filename='apple-touch-icon.png') }}">
</head>

<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.js"></script>
    <link rel="stylesheet" href="/static/index.css">
    <center>
        <h1>ã‚³ã‚³ãƒ•ã‚©ãƒªã‚¢ Log Analyzer [CoC]</h1>
        <div class="describe">
        CCB ã§å‡ºã—ãŸå‡ºç›®ã®é »åº¦ã‚’å¯è¦–åŒ–ã—ã¾ã™<br>
        ã‚³ã‚³ãƒ•ã‚©ãƒªã‚¢ã®ãƒ­ã‚°(xxx.html)ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ã„ãŸã‚‚ã®ã‚’â†“ã«ã‚³ãƒ”ãƒ¼&ãƒšãƒ¼ã‚¹ãƒˆã—ã¦ãã ã•ã„
        </div>
        <form action="/index" method="POST">
            <textarea name="input_data" placeholder="(ä¾‹)&#13;[ãƒ¡ã‚¤ãƒ³] å±±ç”°ã€€å¤ªéƒ : CCB<=80 ã€ã“ã¶ã—ï¼ˆãƒ‘ãƒ³ãƒï¼‰ã€‘ (1D100<=80) ï¼ 96 ï¼ è‡´å‘½çš„å¤±æ•—&#13;&#13;[ãƒ¡ã‚¤ãƒ³] ç”°ä¸­ã€€èŠ±å­ : CCB<=60 ã€ç›®æ˜Ÿã€‘ (1D100<=60) ï¼ 37 ï¼ æˆåŠŸ &#13;&#13;ãªã©ã®ãƒ­ã‚°">{{ raw_data }}</textarea><br>
            <input type="submit" value="ğŸŒŸ è§£ æ ğŸŒŸ">
        </form>

        <hr size="5">
        <div class="graph">
        <canvas id="myBarChart"></canvas>
        </center>
        <a href="https://github.com/kitsystemyou/ccf-log-analyzer" target="_blank">Github Repository</a>
        <script>
            var ctx = document.getElementById("myBarChart");
            Chart.defaults.global.defaultFontColor = 'black';
            var list_data = {{ data }}
            var bin_max = Math.max(...list_data)
            var myBarChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['0~10', '11~20', '21~30', '31~40', '41~50', '51~60', '61~70', '71~80', '81~90', '91~100'],
                    datasets: [{
                        label: 'å‡ºç›®ã®å‡ºãŸå›æ•°',
                        data: list_data,
                        backgroundColor: "#64DB8F",
                        fontSize: '30',
                    }, ]
                },
                options: {
                    animation: {
                      duration: 2000
                    },
                    title: {
                        display: true,
                        text: 'ãƒ€ã‚¤ã‚¹ã®å¥³ç¥ã®ã”æ©Ÿå«Œ',
                        fontColor: '#00BE96',
                        fontSize: 30,
                    },
                    scales: {
                        yAxes: [{
                          display: true,
                            scaleLabel: {
                              display: 'true',
                            },
                            ticks: {
                                suggestedMax: bin_max,
                                suggestedMin: 0,
                                stepSize: 5,
                                fontSize: 25,
                                callback: function(value, index, values) {
                                    return value + 'å›'
                                }
                            }
                        }],
                        xAxes: [{
                          ticks: {
                            fontSize: 25,
                          }
                        }]
                    },
                    legend: {
                      labels: {
                      fontColor: 'black',
                      }
                    }
                }
            });
        </script>
        </div>
</body>

</html>