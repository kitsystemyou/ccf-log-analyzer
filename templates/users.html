<!DOCTYPE html>
<html>
<title>Log Analyzer ğŸ‘¾</title>

<head>
  <meta charset="utf-8">
  <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
  <link rel="apple-touch-icon" sizes="120x120" href="{{ url_for('static', filename='apple-touch-icon.png') }}">
  <meta name="author" content="@log_analyzer_cf">
  <meta name="description" content="ã‚³ã‚³ãƒ•ã‚©ãƒªã‚¢ã®ãƒ­ã‚°ã‚’è§£æã—ã€CCBãªã©ã§å‡ºã—ãŸ 1d100 ã®å‡ºç›®ã®é »åº¦ã‚’å¯è¦–åŒ–ã—ã¾ã™ã€‚">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@log_analyzer_cf">
  <meta property="og:title" content="ã‚³ã‚³ãƒ•ã‚©ãƒªã‚¢ã®ãƒ­ã‚°è§£æãƒ„ãƒ¼ãƒ«(ForCoC)">
  <meta property="og:description" content="ã‚³ã‚³ãƒ•ã‚©ãƒªã‚¢ã®ãƒ­ã‚°ã‚’è§£æã—ã€CCBãªã©ã§å‡ºã—ãŸ 1d100 ã®å‡ºç›®ã®é »åº¦ã‚’å¯è¦–åŒ–ã—ã¾ã™ã€‚">
  <meta property="og:image" content="https://singsignalyou-test.df.r.appspot.com/static/twitter_card.png">
</head>

<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.js"></script>
    <link rel="stylesheet" href="/static/index.css">
    <a class="twitter-timeline" data-width="13vw" data-height="90vh" data-theme="dark" href="https://twitter.com/log_analyzer_cf?ref_src=twsrc%5Etfw">Tweets by log_analyzer_cf</a>
    <script>
      //twitter-timeline ã® data-height ã‚’åˆ¶å¾¡ã™ã‚‹éƒ¨åˆ†
      var windoewHeight = document.getElementsByClassName('twitter-timeline')[0];
      windoewHeight.attributes[2].nodeValue = Math.ceil(window.innerHeight * 0.9)
    </script>
    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    <center>
        <h1>ã‚³ã‚³ãƒ•ã‚©ãƒªã‚¢ Log Analyzer [CoC](Beta)</h1>
        <div class="describe">
        CCB(ã¾ãŸã¯ ccb, CC, cc) ã§å‡ºã—ãŸå‡ºç›®ã®é »åº¦ã‚’å¯è¦–åŒ–ã—ã¾ã™ã€‚<br>
        [<a href="https://github.com/kitsystemyou/ccf-log-analyzer/blob/main/Doc/markdown/usage.md" target="_blank">ä½¿ã„æ–¹ãªã©ã®è©³ç´°</a>
        / <a href="https://github.com/kitsystemyou/ccf-log-analyzer/blob/main/Doc/markdown/update_log.md" target="_blank">æ›´æ–°å±¥æ­´</a>]<br>
        <a href="{{url_for('index')}}">å…¨ä½“ã ã‘ã®å‡ºç›®</a><br>
        ã‚³ã‚³ãƒ•ã‚©ãƒªã‚¢ã®ãƒ­ã‚°(xxx.html)ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ã„ãŸã‚‚ã®ã‚’â†“ã«ã‚³ãƒ”ãƒ¼&ãƒšãƒ¼ã‚¹ãƒˆã—ã¦ãã ã•ã„ã€‚
        </div>
        <form action="/users" method="POST">
            <textarea name="input_data" placeholder="(ä¾‹)&#13;[ãƒ¡ã‚¤ãƒ³] å±±ç”°ã€€å¤ªéƒ : CCB<=80 ã€ã“ã¶ã—ï¼ˆãƒ‘ãƒ³ãƒï¼‰ã€‘ (1D100<=80) ï¼ 96 ï¼ è‡´å‘½çš„å¤±æ•—&#13;&#13;[ãƒ¡ã‚¤ãƒ³] ç”°ä¸­ã€€èŠ±å­ : CCB<=60 ã€ç›®æ˜Ÿã€‘ (1D100<=60) ï¼ 37 ï¼ æˆåŠŸ &#13;&#13;ãªã©ã®ãƒ­ã‚°">{{ raw_data }}</textarea><br>
            <input type="submit" value="ğŸŒŸ è§£ æ ğŸŒŸ">
        </form>

        <hr size="5">
        <div class="graph">
        {% for i in data["result"] %}
        <canvas id="a{{loop.index}}"></canvas>
        <hr size="3">
        {% endfor %}
    </center>
        <a href="https://github.com/kitsystemyou/ccf-log-analyzer" target="_blank">Github Repository</a>
        <script>
            {% for i in data["result"] %}
            var username = '{{i["name"]}}';
            var hist_data = {{i["hist_data"]}};
            var ctx = document.getElementById("a{{loop.index}}");
            Chart.defaults.global.defaultFontColor = 'black';
            Chart.plugins.register({
            beforeDraw: function(ch){
              var ctx = ch.chart.ctx;
              ctx.fillStyle = 'rgba(255, 255, 255, 1)';
              ctx.fillRect(0, 0, ch.chart.width, ch.chart.height);
              }
            });
            var list_data = hist_data
            var text = username
            var bin_max = Math.max(...list_data)
            var a{{loop.index}} = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['1~10', '11~20', '21~30', '31~40', '41~50', '51~60', '61~70', '71~80', '81~90', '91~100'],
                    datasets: [{
                        label: 'å‡ºç›®ã®å‡ºãŸå›æ•°',
                        data: list_data,
                        backgroundColor: "#64DB8F",
                        fontSize: '30',
                    }, ]
                },
                options: {
                    animation: {
                      duration: 2000
                    },
                    title: {
                        display: true,
                        text: text,
                        fontColor: '#00BE96',
                        fontSize: 30,
                    },
                    scales: {
                        yAxes: [{
                          display: true,
                            scaleLabel: {
                              display: 'true',
                            },
                            ticks: {
                                suggestedMax: bin_max,
                                suggestedMin: 0,
                                stepSize: 5,
                                fontSize: 23,
                                callback: function(value, index, values) {
                                    return value + 'å›'
                                }
                            }
                        }],
                        xAxes: [{
                          ticks: {
                            fontSize: 20,
                          }
                        }]
                    },
                    legend: {
                      labels: {
                      fontColor: 'black',
                      }
                    }
                }
            });
            
            {% endfor %}
            
        </script>
        </div>
</body>

</html>